{% extends "layout.html" %}

{% block title %}
    Messages
{% endblock %}

{% block main %}
    {% if messages != None %}
        {% for message in messages %}
            <ul class="list-group mb-3">
                <form action="/messages" method="post">
                    <input name="readed" value="{{ message.username }}" hidden>
                    <button type="submit" style="width: 100%; border: none;">
                        <li class="list-group-item list-group-item-action d-flex flex-nowrap justify-content-start align-items-center">
                            <div class="ms-2 d-flex flex-column w-100 align-items-start">
                                <p class="fw-bold">Message from {{ message.username }}</p>
                            </div>
                            {% if message.count != 0 %}
                                <span class="badge bg-primary rounded-pill">{{ message.count }}</span>
                            {% endif %}
                        </li>
                    </button>
                </form>
            </ul>
        {% endfor %}
    {% else %}
            <p>There's no message here.</p>
    {% endif %}
{% endblock %}
